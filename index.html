<html>
<head>
  <script type="text/javascript">
  'use strict';

  const auth = () => {
    navigator.usb.requestDevice({ 'filters': [
        {  }
      ]
    }).then(device => {
        console.log(device.serialNumber + " | " + device.productName);
      device.open;
      const set_command_type_packet = string_to_buffer("go memory move 0x9000040 0x9000000 0x48000");
      device.transferOut(2, set_command_type_packet)
    }).catch(error => {
      console.log(error);
    });
  }

  function string_to_buffer(src) {
  return (new Uint16Array([].map.call(src, function(c) {
    return c.charCodeAt(0)
  }))).buffer;
}

  </script>
  <title>HelloWorld</title>
</head>
<body>
  <form class="form">
 <button type="button" onclick="auth()" id="login-button">Login</button>
 </form>
 </body>
</html>
